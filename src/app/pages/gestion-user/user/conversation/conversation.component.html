<div class="card-body p-0">
  <div id="users-chat">
    <ngx-simplebar class="chat-conversation p-3" id="chat-conversation" #chatContainer >
      <ul class="list-unstyled chat-conversation-list chat-sm" id="users-conversation">
        <li *ngFor="let msg of messages" [ngClass]="msg.sender.id === currentUser.id ? 'chat-list right' : 'chat-list left'">
          <div class="conversation-list">
            <div *ngIf="msg.sender.id !== currentUser.id" class="chat-avatar">
              <img src="assets/images/users/48/avatar-2.jpg" alt="">
            </div>
            <div class="user-chat-content">
              <div class="ctext-wrap">
                <div class="ctext-wrap-content">
                  <p class="mb-0 ctext-content">{{ msg.content }}</p>
                </div>
                <div dropdown [container]="'body'" class="dropdown align-self-start message-box-drop" [dropup]="msg.sender.id === currentUser.id">
                  <a dropdownToggle class="dropdown-toggle" href="javascript:void(0);">
                    <i class="ri-more-2-fill"></i>
                  </a>
                  <div *bsDropdownMenu class="dropdown-menu">
                    <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>Reply</a>
                    <a class="dropdown-item" href="javascript:void(0);"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>Copy</a>
                    <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>Delete</a>
                  </div>
                </div>
              </div>
              <div class="conversation-name">
                <small class="text-muted time">{{ msg.timestamp | date:'shortTime' }}</small>
                <span class="text-success check-message-icon">
                  <i class="ri-check-double-line align-bottom"></i>
                </span>
              </div>
            </div>
          </div>
        </li>
        
      </ul>
    </ngx-simplebar>
  </div>

  <div class="border-top border-top-dashed">
    <div class="row g-2 mx-3 mt-2 mb-3">
      <div class="col">
        <div class="position-relative">
          <input type="text" class="form-control border-light bg-light" placeholder="Enter Message..." [(ngModel)]="messageText">
        </div>
      </div>
      <div class="col-auto">
        <button type="button" class="btn btn-secondary" (click)="sendMessage()"><i class="mdi mdi-send"></i></button>
      </div>
    </div>
  </div>
</div>
